// RUZEE.ShadedBorder 0.6.1 (c) 2006 Steffen Rusitschka RUZEE.ShadedBorder is freely distributable under the terms of an MIT-style license. For details, see http://www.ruzee.com/
var RUZEE=window.RUZEE||{};RUZEE.ShadedBorder={create:function(Q){var M=/msie/i.test(navigator.userAgent)&&!window.opera;var a=M&&!window.XMLHttpRequest;function S(m,b){for(k in b){if(/ie_/.test(k)){if(M){m.style[k.substr(3)]=b[k]}}else{m.style[k]=b[k]}}}function V(m){var b=document.createElement("div");b.className="sb-gen";S(b,m);return b}function T(b){b=b<0?0:b;if(b>0.99999){return""}return M?" filter:alpha(opacity="+(b*100)+");":" opacity:"+b+";"}var I=Q.shadow||0;var c=Q.corner||0;var G=0;var F=Q.border||0;var H=Q.borderOpacity||1;var X=I!=0;var P=c>I?c:I;var R=P;var B=P;var i=P;if(F>0){G=c;c=c-F}var L=c!=0&&X?Math.round(P/3):0;var K=L;var O=Math.round(L/2);var N=c>0?"sb-inner":"sb-shadow";var U="sb-shadow";var f="sb-border";var J=Q.edges||"trlb";if(!/t/i.test(J)){B=0}if(!/b/i.test(J)){i=0}if(!/l/i.test(J)){P=0}if(!/r/i.test(J)){R=0}var e={position:"absolute",left:"0",top:"0",width:P+"px",height:B+"px",ie_fontSize:"1px",overflow:"hidden",margin:"0",padding:"0"};var A=V(e);delete e.left;e.right="0";e.width=R+"px";var j=V(e);delete e.top;e.bottom="0";e.height=i+"px";var d=V(e);delete e.right;e.left="0";e.width=P+"px";var g=V(e);var h=V({position:"absolute",width:"100%",height:B+"px",ie_fontSize:"1px",top:"0",left:"0",overflow:"hidden",margin:"0",padding:"0"});var Z=V({position:"relative",height:B+"px",ie_fontSize:"1px",margin:"0 "+R+"px 0 "+P+"px",overflow:"hidden",padding:"0"});h.appendChild(Z);var Y=V({position:"absolute",left:"0",bottom:"0",width:"100%",height:i+"px",ie_fontSize:"1px",overflow:"hidden",margin:"0",padding:"0"});var l=V({position:"relative",height:i+"px",ie_fontSize:"1px",margin:"0 "+R+"px 0 "+P+"px",overflow:"hidden",padding:"0"});Y.appendChild(l);var E=V({position:"absolute",top:(-i)+"px",left:"0",width:"100%",height:"100%",overflow:"hidden",ie_fontSize:"1px",padding:"0",margin:"0"});function W(o,AC,AG){var z=AG?P:R;var AJ=AC?B:i;var AD=AC?O:-O;var r=[];var p=[];var b=[];var AA=0;var AH=1;if(AG){AA=z-1;AH=-1}for(var v=0;v<z;++v){var AK=AJ-1;var m=-1;if(AC){AK=0;m=1}var q=false;for(var u=AJ-1;u>=0&&!q;--u){var AE='<div style="position:absolute; top:'+AK+"px; left:"+AA+"px; width:1px; height:1px; overflow:hidden; margin:0; padding:0;";var AI=v-L;var n=u-K-AD;var AL=Math.sqrt(AI*AI+n*n);var AB=false;if(c>0){if(AI<0&&n<G&&n>=c||n<0&&AI<G&&AI>=c){r.push(AE+T(H)+'" class="'+f+'"></div>')}else{if(AL<G&&AL>=c-1&&AI>=0&&n>=0){var AM=AE;if(AL>=G-1){AM+=T((G-AL)*H);AB=true}else{AM+=T(H)}r.push(AM+'" class="'+f+'"></div>')}}var AM=AE+" z-index:2;"+(AC?"background-position:0 -"+(c-n-1)+"px;":"background-image:none;");var AF=function(){if(!AC){AM=AM.replace(/top\:\d+px/,"top:0px")}AM=AM.replace(/height\:1px/,"height:"+(u+1)+"px");p.push(AM+'" class="'+N+'"></div>');q=true};if(AI<0&&n<c||n<0&&AI<c){AF()}else{if(AL<c&&AI>=0&&n>=0){if(AL>=c-1){AM+=T(c-AL);AB=true;p.push(AM+'" class="'+N+'"></div>')}else{AF()}}else{AB=true}}}else{AB=true}if(I>0&&AB){AL=Math.sqrt(v*v+u*u);if(AL<I){b.push(AE+" z-index:0; "+T(1-(AL/I))+'" class="'+U+'"></div>')}}AK+=m}AA+=AH}o.innerHTML=b.concat(r.concat(p)).join("")}function C(p){var o=[];o.push('<div style="position:relative; top:'+(B+i)+"px; height:6048px;  margin:0 "+(R-c-L)+"px 0 "+(P-c-L)+"px;  padding:0; overflow:hidden; background-position:0 "+(B>0?-(c+K+O):"0")+'px;" class="'+N+'"></div>');var m='<div style="position:absolute; width:1px; top:'+(B+i)+"px; height:6048px; padding:0; margin:0;";if(I>0){for(var b=0;b<P-c-L;++b){o.push(m+" left:"+b+"px;"+T((b+1)/P)+'" class="'+U+'"></div>')}for(var b=0;b<R-c-L;++b){o.push(m+" right:"+b+"px;"+T((b+1)/R)+'" class="'+U+'"></div>')}}if(F>0){var n=" width:"+F+"px;"+T(H)+'" class="'+f+'"></div>';o.push(m+" left:"+(P-G-L)+"px;"+n);o.push(m+" right:"+(R-G-L)+"px;"+n)}p.innerHTML=o.join("")}function D(p,m){var q=[];var o=m?B:i;var b='<div style="height:1px; overflow:hidden; position:absolute; margin:0; padding:0; width:100%; left:0px; ';var n=m?O:-O;for(var r=0;r<o-n-K-c;++r){if(I>0){q.push(b+(m?"top:":"bottom:")+r+"px;"+T((r+1)*1/o)+'" class="'+U+'"></div>')}}if(r>=F){q.push(b+(m?"top:":"bottom:")+(r-F)+"px;"+T(H)+" height:"+F+'px;" class="'+f+'"></div>')}q.push(b+(m?"background-position:0; top:":"background-image:none; bottom:")+r+"px; height:"+(c+K+n)+'px;" class="'+N+'"></div>');p.innerHTML=q.join("")}W(A,true,true);W(j,true,false);W(g,false,true);W(d,false,false);C(E);D(Z,true);D(l,false);return{render:function(p){if(typeof p=="string"){p=document.getElementById(p)}if(p==null){var p;return }p.className+=" sb";S(p,{position:"relative",background:"transparent"});var q=p.firstChild;while(q){var b=q.nextSibling;if(q.nodeType==1&&q.className=="sb-gen"){p.removeChild(q)}q=b}var n=p.firstChild;var o=h.cloneNode(true);var s=E.cloneNode(true);var r=Y.cloneNode(true);p.insertBefore(A.cloneNode(true),n);p.insertBefore(j.cloneNode(true),n);p.insertBefore(g.cloneNode(true),n);p.insertBefore(d.cloneNode(true),n);p.insertBefore(o,n);p.insertBefore(s,n);p.insertBefore(r,n);if(a){p.onmouseover=function(){this.className+=" hover"};p.onmouseout=function(){this.className=this.className.replace(/ hover/,"")}}if(M){function m(){o.style.width=r.style.width=s.style.width=p.offsetWidth+"px";s.firstChild.style.height=p.offsetHeight+"px"}p.onresize=m;m()}}}}};document.write('  <style type="text/css">  .sb, .sbi, .sb *, .sbi * { position:relative; z-index:1; }  * html .sb, * html .sbi { height:1%; }  .sbi { display:inline-block; }  .sb-inner { background:#ddd; }  .sb-shadow { background:#000; }  .sb-border { background:#bbb; }  </style>');
